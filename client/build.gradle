version = project.mod_version
group = project.maven_group

dependencies {
    shadow project(path: ':core', configuration: 'shadow')
}

shadowJar {
    configurations = [project.configurations.shadow]
    minimize()
}

jar.finalizedBy(shadowJar)

java {
    javadoc.options.addStringOption('Xdoclint:none', '-quiet')
    withSourcesJar()
    withJavadocJar()
}

sourcesJar {
    exclude {
        sourceSets.main.allSource.contains it.file
    }
    from delombok
}